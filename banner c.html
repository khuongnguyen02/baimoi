<!DOCTYPE html>

<head>
    <title>Album kỉ niệm 1 năm yêu nhau của chúng mình</title>
    <meta charset="UTF-8">
</head>
<!--hay-->
<body style="background-color: pink">
<h1 style="text-align: center;color: deepskyblue"> Album những kỉ niệm đáng nhớ của bọn mình </h1>
<div id="slideshow">
    <div>
        <div class="slide slide-active">
            <img src="img/104860086_849281458928156_6106764031491441045_n.jpg">
            <h3 class="text">Bên em trọn đời nhé vợ <3</h3>
        </div>
        <div class="slide">
            <img src="img/84937757_751553305367639_8825274412996493312_n.jpg">
            <h3 class="text"> Mưa và ôm mèo chạy vào Trà sữa</h3>
        </div>
        <div class="slide">
            <img src="img/87225626_761649041024732_8301039324846096384_n.jpg">
            <h3 class="text">Ngồi trên ghế ôm mèo yêu</h3>
        </div>
        <div class="slide">
            <img src="img/101798762_837007370155565_1162428232260389140_n.jpg">
            <h3 class="text">Vợ hôn chồng <3</h3>
        </div>
        <div class="slide">
            <img src="img/100562772_827673311088971_7622611758263304192_n.jpg">
            <h3 class="text">Áo đôi bên nhau nè vợ yêu</h3>
        </div>
        <div class="slide">
            <img src="img/96757317_816561922200110_8495547192407228416_n.jpg">
            <h3 class="text">Ngủ trên đùi vợ yêu <3</h3>
        </div>
    </div>
    <span class="prev">&larr;</span>
    <span class="next">&rarr;</span>
    <ul>
        <li class="dot dot-active"></li>
        <li class="dot"></li>
        <li class="dot"></li>
    </ul>
</div>
<script type="text/javascript" src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="slideshow.js"></script>
<script>
    $(document).ready(function() {
        $('#slideshow .slide:eq(0)').css('display', 'block'); // Hien slide dau tien
        var dot = $('#slideshow ul li.dot');
        var slide = $('#slideshow .slide');
// Slide chay tu dong
//khai báo biến set (global)
        var set;
//Hàm tự động chuyển slide
        function auto() {
            set = setInterval(next, 4000);
        }
//Hàm ngừng chuyển slide tự động
        function stop() {
            clearInterval(set); // xóa biến set global -> set local không hoạt động, vì mất khai báo
        }
        auto();
        $('#slideshow').on({
            mouseenter: function() {
                return stop();
            },
            mouseleave: function() {
                return auto();
            }
        });
//Ham nut next
//Khong dat currenSlide, currentDot la global scope vi .slide-active khong co dinh
//chung la khac nhau, khong phai duy nhat
// Ham next la Global
        function next() {
            var currentSlide = $('#slideshow .slide-active');
            var nextSlide = currentSlide.next();
            var currentDot = $('#slideshow .dot-active');
            var nextDot = currentDot.next();
            if (nextSlide.length === 0) {
                nextSlide = slide.first();
            }
            if (nextDot.length === 0) {
                nextDot = dot.first();
            }
            currentSlide.fadeOut(1000).removeClass('slide-active');
            nextSlide.fadeIn(1000).addClass('slide-active');
            currentDot.removeClass('dot-active');
            nextDot.addClass('dot-active');
        }

        $('.next').click(function() {
            next();
        });
// Ham nut prev
        $('.prev').click(function() {
            var currentSlide = $('#slideshow .slide-active');
            var prevSlide = currentSlide.prev();
            var currentDot = $('#slideshow .dot-active');
            var prevDot = currentDot.prev();
            if (prevSlide.length === 0) {
                prevSlide = slide.last();
            }
            if (prevDot.length === 0) {
                prevDot = dot.last();
            }
            currentSlide.fadeOut(1000).removeClass('slide-active');
            prevSlide.fadeIn(1000).addClass('slide-active');
            currentDot.removeClass('dot-active');
            prevDot.addClass('dot-active');
        });
// Ham 3 nut item
// 3 nut co cach dung giong nhau, chi khac vi tri
// Ta viet 1 ham, goi lai ham tuy theo vi tri cua item:eq
        function call(n) {
            $('#slideshow ul li:eq(' + n + ')').click(function() {
                dot.removeClass('dot-active');
                $(this).addClass('dot-active');
                slide.fadeOut(1000).removeClass('slide-active');
                $('#slideshow .slide:eq(' + n + ')').fadeIn(1000).addClass('slide-active');
            });
        }
        for (var i = 0; i < dot.length; i++) {
            call(i);
        }
    });
</script>
</body>

</html>